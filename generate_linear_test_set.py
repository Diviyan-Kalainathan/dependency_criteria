
# coding: utf-8

# In[8]:

get_ipython().system(u'jupyter nbconvert --to script generate_linear_test_set.ipynb')


# In[1]:

# %load generate_linear_test_set.py
import numpy as np
import pandas as pd
import random

#Parameters
number_max_pts=2000
number_min_pts=5
noise_to_signal_maxratio=0.9
number_pairs=50000  
data=[]


# In[9]:

if __name__== '__main__':

    for i in range(number_pairs):
        angle=random.uniform(0,np.pi) #gives the angle of the line;probability of pi/2 is ~0
        coefficient= np.tan(angle)
        nb_pts=int(random.uniform(number_min_pts,number_max_pts))
        noise_to_sig_r=random.uniform(0,noise_to_signal_maxratio)
        x=[random.uniform(-250,250) for j in range(nb_pts)]
        y=[val*coefficient+random.uniform(-abs(val)*noise_to_sig_r,abs(val)*noise_to_sig_r)
           for val in x]
        x_str=''
        y_str=''
        for j in range(len(x)):
            x_str+=' '+str(val) for val in x
            y_str+=' '+str(val) for val in y
        data.append([i,x_str,y_str,coefficient,nb_pts,noise_to_sig_r])
    data_df=pd.DataFrame(data)
    data_df.columns=['ID','X','Y','Coeff','Nb_pts','Noise/Sig']
    data_df.to_csv('linear_dataset.csv',index=False)


# In[5]:

#a=[454.14499097015084, 870.3164285985634, 380.99800167602626, 413.85446469585986, 370.2252123794674, 603.5132887898777, 678.0178605236731, 374.69661754399783, 732.7718837763568, 581.0036588027178, 907.0533770373463, 824.1203515763036, 910.2810324956614, 561.4424840480796, 398.20119076714633, 748.9124488054698, 345.4800938722339, 634.0230069664424, 340.40591677063617, 137.9792305008446, 775.0272305289891, 302.7579935396972, 903.5725531758862, 969.0077288443989, 720.0846303469201, 920.0131537220838, 600.8895614419843, 831.4185612563002, 223.09817425536215, 100.83354892690022, 658.1655199287452, 891.0464751325638, 616.982260691317, 923.5243318737769, 897.9279533252782, 82.59332398841546, 632.4214449886092, 401.51269564464644, 573.202889347325, 414.9397598429586, 645.7375939922506, 269.51873727556654, 435.0881492548503, 902.1658335755452, 373.94918286038927, 827.6329290434854, 471.5730544729585, 47.79342153115096, 690.5865230180708, 570.2682301970925, 648.3536879860543, 295.4511356263011, 739.5642771080991, 726.8100081246967, 322.63613984774344, 8.817822365715266, 918.1219415415551, 679.8783749626822, 482.45719274122143, 844.0950647876983, 14.765536755412146, 491.85974157340297, 254.2312320480803, 783.8800683629453, 286.01959222554564, 273.1423367056557, 315.3516686946185, 571.2358573716062, 119.25302374670255, 845.6872218827762, 723.1330939245792, 302.4889750998765, 335.55816284261317, 735.1493982553295, 385.2085769518594, 285.6400055817461, 98.04485396994211, 246.97949564568822, 180.88940533460118, 648.777154586685, 114.10092658395709, 24.604606299734932, 337.73162202514715, 846.3481672591575, 486.70883318298274, 842.7355505097032, 589.5573350753461, 928.1937295547856, 130.1779016606086, 928.3774399237703, 874.5833426126371, 515.8841278480277, 880.5026771578825, 183.859918848311, 457.062657246336, 980.1441386956807, 687.219649424054, 753.5406199279766, 840.5202579130132, 62.25136410441512, 748.4384925355205, 909.4840639031654, 65.1384436245056, 53.555377733081386, 655.9325584759694, 295.18472250155423, 611.3870328899814, 959.6903332961505, 381.3881496052837, 258.999418772008, 787.2090726503586, 982.8627742241208, 291.92934321836015, 659.247428531964, 894.7634567064239, 588.2604895863561, 816.3073979487933, 783.0374319857244, 434.0257916969975, 236.13989069319442, 672.3395183296142, 601.5330697363794, 686.9856894312823, 777.0158362380374, 670.2384048804121, 585.6218681740515, 797.5921052593711, 343.7629862016871, 666.2895682521548, 631.0912207696235, 888.556079863729, 929.6109674866406, 593.9577827029008, 382.9354617931906, 4.867896891424528, 598.6160173208117, 288.5959443022057, 191.26825380207134, 824.1427531828899, 938.1593010437971, 791.6408482990543, 106.0003077783066, 956.6847158507625, 230.43769065621888, 662.5758943899535, 66.23113884761878, 351.46986614973616, 712.5433222580866, 223.2335593141115, 127.29107740627099, 184.091007095332, 230.44262349088385, 485.35133096195307, 932.2857687147331, 665.4878072569599, 743.2366735409894, 974.5738146468487, 691.3649312797969, 580.0591923324382, 369.1246062103071, 330.7768996698344, 712.5245342046734, 547.040177851825, 138.6848334585632, 173.0677122631342, 819.505959930692, 361.20407442897215, 485.92166927388905, 814.2288112541559, 830.9643024623755, 572.2148864617898, 681.4490019663342, 809.6071002286536, 783.6826805779893, 266.0368668299529, 408.88510512492314, 734.276611543672, 146.03481823815068, 953.9830116137332, 667.3725400367946, 455.5632031601622, 130.0553176020437, 914.6749111007939, 394.02315977190483, 14.429040378497572, 209.2335845111031, 979.2477543215806, 861.206105596716, 71.73436533213784, 920.0356288244858, 234.14219988246353, 872.0372845688992, 559.5448287786446, 536.3214027678337, 83.59403276731337, 911.2008025836882, 894.5770210009218, 97.67668671915686, 999.7014386493623, 26.624481801170496, 62.151380195219375, 80.62276688347237, 191.85227157285655, 265.5986487821409, 273.0119760731945, 994.1344683451039, 945.0594094081636, 928.7293612180115, 299.54750420281607, 460.0897259588873, 429.17830477642474, 681.4589421389525, 280.29926017321026, 376.49704403231135, 364.09290720330466, 738.9173916894421, 90.70560066452605, 250.14107657252072, 903.5681778125689, 507.0682388295131, 778.8291271344651, 609.9180250746913, 622.0312119874096, 267.5100293051451, 719.4758094907957, 813.7031580531439, 31.961219568108824, 948.9673648234048, 958.1054932988668, 642.190751568499, 136.89384345878142, 864.9791336162144, 400.4266490589868, 358.353146675177, 113.10987681437257, 520.5155212655123, 713.3433195458762]
#print(a)


# In[6]:

#b=[x*1.2+random.uniform(-abs(x)*0.5,abs(x)*0.5) for x in a]
#print(b)

